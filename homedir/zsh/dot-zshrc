alias grep='grep --color=auto'
alias ..='cd ..'
alias ...='cd ../..'
alias ls='lsd'
alias l='ls -l'
alias la='ls -a'
alias ll='ls -la'
alias lt='ls --tree'
alias ~='cd ~'

alias zrc="code ~/.zshrc"
alias zpr="code ~/.zprofile"

# Search in previous command with up/down
autoload -Uz up-line-or-beginning-search
autoload -Uz down-line-or-beginning-search
zle -N up-line-or-beginning-search
zle -N down-line-or-beginning-search
bindkey "^[[A" up-line-or-beginning-search
bindkey "^[[B" down-line-or-beginning-search

ZINIT_HOME="$HOME/.local/share/zinit/zinit.git"
ZSH_CUSTOM=~/.zsh/custom

# Download Zinit, if it's not there yet
if [ ! -d "$ZINIT_HOME" ]; then
   mkdir -p "$(dirname $ZINIT_HOME)"
   git clone https://github.com/zdharma-continuum/zinit.git "$ZINIT_HOME"
fi

source "${ZINIT_HOME}/zinit.zsh"

plugins=(
  "zsh-users/zsh-syntax-highlighting"
  "zsh-users/zsh-completions"
  "zsh-users/zsh-autosuggestions"
  "MichaelAquilina/zsh-you-should-use"
  "Aloxaf/fzf-tab"
)

snippets=(
  "OMZP::sudo"
  "OMZP::tmux"
  "OMZP::profiles"
)

for plugin in "${plugins[@]}"; do
  zinit ice wait lucid
  zinit light "$plugin"
done

for snippet in "${snippets[@]}"; do
  zinit ice wait lucid
  zinit snippet "$snippet"
done

# Completion loading
fpath+=~/.zfunc
autoload -Uz compinit
for dump in ~/.zcompdump(N.mh+24); do
  compinit
done
compinit -C

command -v starship && eval "$(starship init zsh)"
command -v fzf && eval "$(fzf --zsh)"
command -v zoxide && eval "$(zoxide init zsh)"

case $- in *i*)
  if [ -z "$TMUX" -a -z "$DISABLE_TMUX" ]; then exec tmux; fi;;
esac